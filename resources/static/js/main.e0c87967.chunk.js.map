{"version":3,"sources":["api/Api.js","helper/TemplateComponent.js","App.js","custom-element/et-app.js"],"names":["apiEndPoint","getTemplate","a","searchby","searchTerm","console","log","axios","get","TemplateComponent","css","template","data","domain","App","name","nameTwo","templateId","contentId","JSON","parse","decodeURIComponent","dataNameTwo","useState","html","setHtml","bold","text","render","bannerType","setData","useEffect","collectionType","Type","strapiData","attributes","hbr","contentshape","imgPath","Image","url","content","img","style","backgroundColor","borderCollapse","border","color","width","padding","cellPadding","cellSpacing","className","Object","keys","map","item","idx","hasOwnProperty","boxShadow","ATTRIBUTES","selectedTemplateId","selectedContentId","WidgetElement","oldValue","newValue","values","includes","Error","this","mountPoint","document","createElement","appendChild","getAttribute","ReactDOM","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.e0c87967.chunk.js","sourcesContent":["import axios from 'axios';\n\n// http://localhost:8082/api/templates/searchby/code/1002\n\nconst apiEndPoint = 'http://localhost:8082/api/templates/searchby/';\nconst strapiEndPoint = 'http://localhost:1337/api/';\n\nexport const getTemplate = async (searchby = 'code', searchTerm) => {\n    console.log(\"GETTEMPLATE 1\");\n    return await axios.get(`${apiEndPoint}${searchby}/${searchTerm}`)\n}\n\nexport const getContentById = async (contentType = 'banners', contentId) => {\n    console.log(\"GET CONTENT API FOR \", contentType);\n    return await axios.get(`${strapiEndPoint}${contentType}?filters[id][$eq]=${contentId}`)\n}","import Template from \"react-mustache-template-component\";\n\nexport default function TemplateComponent({ css, template, data }) {\n    return (\n        <>\n            <Template template={template} data={data} css={css} />\n        </>\n    );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { getTemplate } from './api/Api';\nimport TemplateComponent from './helper/TemplateComponent';\nimport axios from 'axios';\nimport './app.css';\n\nconst domain = 'http://localhost:1337'\n\nfunction App({ name, nameTwo, templateId, contentId }) {\n    \n    console.log('NAME, NAMETWO, TEMPLATEID, CONTENTID -1', name, nameTwo, templateId, contentId);\n    if (!name) {\n        name = 'test data transfer';\n    }\n\n    if (!nameTwo) {\n        nameTwo = nameTwo = '[{\"name\":\"customer 1\",\"Type\": \"Banner\",\"email\":\"customer1@entando.com\",\"address\":\"San Jose, CA\",\"createdAt\":\"2022-03-14T18:41:51.579Z\",\"updatedAt\":\"2022-03-14T18:49:55.562Z\",\"publishedAt\":\"2022-03-14T18:49:55.559Z\",\"id\":1,\"selected\":true}]';\n    }\n    const nameTwoArr = JSON.parse(decodeURIComponent(nameTwo));\n    const dataNameTwo = JSON.parse(decodeURIComponent(nameTwo))[0];\n\n    if (!templateId) {\n        templateId = '9';\n    }\n\n    if (!contentId) {\n        contentId = 'test contentId';\n    }\n    console.log('NAME, NAMETWO, TEMPLATEID, CONTENTID static data - ', name, nameTwo, templateId, contentId);\n\n\n    const [css] = useState(\n        `#header {\n          background:red;\n          padding:10px;\n        }`\n    ); // compiled scss\n\n    const [html, setHtml] = useState(`\n      <div id=\"wrapper\">\n        <h1 className=\"title\">{{name}}</h1>\n      </div>\n      `); // template\n\n    const [data, setData] = useState({\n        name: \"Static\",\n        bold: function () {\n            return function (text, render) {\n                return;\n            };\n        },\n        bannerType: \"wideBanner\"\n    })\n\n    useEffect(() => {\n        (async () => {\n            // INFO: Template Data from Node api\n            const { data } = await getTemplate('code', templateId);\n            // INFO: Strapi API\n            const collectionType = dataNameTwo.Type + 's';\n            console.log(\"COLLECTIONTYPE===>\", collectionType);\n            const { data: strapiData } = await axios.get(`${domain}/api/${collectionType}?populate=Image`);\n            console.log('core Data', strapiData.data);\n            console.log(\"STRAPIDATA\", strapiData.data[0].attributes);\n            console.log('just for now', data);\n            const hbr = `${data[0].contentshape}`;\n            console.log(\"HBR\",hbr)\n            setHtml(hbr);\n            // TODO: improve\n            const imgPath = `${domain}${strapiData.data[0].attributes.Image.data.attributes.url}`;\n            console.log(\"Acctual Image Path\",imgPath)\n            setData({content: {...strapiData.data[0].attributes, img: imgPath}})\n        })()\n    }, [])\n\n    return (\n        <>\n            <div>\n                <TemplateComponent css={css} template={html} data={data} />\n            </div>\n            <hr></hr>\n            <table style={{ backgroundColor: \"#FFFFCC\", borderCollapse: \"collapse\", border: \"1px solid #FFCC00\", color: \"#000000\", width: \"100%\", padding: \"10px\" }} cellPadding=\"3\" cellSpacing=\"3\" className=\"table table-bordered table-datatable table-hover table-striped Contents__table-element\">\n                <thead>\n                    <tr>\n                        {Object.keys(dataNameTwo).map((item, idx) => <th key={idx}>{item}</th>)}\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        {Object.keys(dataNameTwo) && Object.keys(dataNameTwo).map((item, idx) => {\n                            if (dataNameTwo.hasOwnProperty(item)) return <td style={{padding: \"1rem\", backgroundColor: \"#ffd44c\", boxShadow: \"inset 0 0 10px #be961a\"}} key={idx}>{dataNameTwo[item]}</td>\n                        })}\n                    </tr>\n                </tbody>\n            </table>\n        </>\n    );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\"\nimport React from \"react\"\nimport App from '../App'\n\nconst ATTRIBUTES = {\n    name: 'name',\n    nameTwo: 'nameTwo',\n    selectedTemplateId: 'selectedTemplateId',\n    selectedContentId: 'selectedContentId'\n};\n\nclass WidgetElement extends HTMLElement {\n\n    static get observedAttributes() {\n        return Object.values(ATTRIBUTES);\n    }\n\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (!Object.values(ATTRIBUTES).includes(name)) {\n            throw new Error(`Untracked changed attribute: ${name}`);\n        }\n        if (this.mountPoint && newValue !== oldValue) {\n            this.render();\n        }\n    }\n\n    connectedCallback() {\n        this.mountPoint = document.createElement('div');\n        this.appendChild(this.mountPoint);\n        this.render();\n    }\n\n    render() {\n        const name = this.getAttribute(ATTRIBUTES.name);\n        const nameTwo = this.getAttribute(ATTRIBUTES.nameTwo);\n        const templateId = this.getAttribute(ATTRIBUTES.selectedTemplateId);\n        const contentId = this.getAttribute(ATTRIBUTES.selectedContentId);\n        ReactDOM.render(<App name={name} nameTwo={nameTwo} templateId={templateId} contentId={contentId} />, this.mountPoint);\n    }\n}\n\ncustomElements.define('my-widget', WidgetElement);\n\nexport default WidgetElement;\n\n"],"sourceRoot":""}